# 기존 코드
```java
// DM 목록을 멤버와 시간에 따라 그룹화하는 메소드
  public static List<DmResponseDto> groupDmListByMemberAndTime(List<DmListDto> dmListDtoList) {
    // 그룹화된 데이터를 담을 맵
    Map<String, String> memberInfo = new HashMap<>();
    List<String> msgList = new ArrayList<>();
    List<DmResponseDto> dmResponseDtoList = new ArrayList<>();

    // 이전 멤버 이름과 이전 생성 시간을 추적하기 위한 변수들
    long prevMemberId = -1;
    String prevCreateTime = null;

    // DM 목록을 순회하며 그룹화
    for (DmListDto dmListDto : dmListDtoList) {
      long memberId = dmListDto.getMemberId();
      String createTime = dmListDto.getCreateDate().truncatedTo(ChronoUnit.MINUTES).toString();
      if (memberId != prevMemberId || !createTime.equals(prevCreateTime)) {
        if (prevMemberId != -1) {
          // 이전 내역 리스트에 담기
          DmResponseDto dto = new DmResponseDto();
          dto.setMemberId(prevMemberId);
          dto.setMemberName(memberInfo.get("memberName"));
          dto.setMemberProfileUrl(memberInfo.get("memberProfileUrl"));
          dto.setCreateDate(memberInfo.get("createDate"));
          dto.setMessage(msgList);
          dmResponseDtoList.add(dto);
        }

        // 새로운 내역 리스트에 담기
        memberInfo = new HashMap<>();
        memberInfo.put("memberName", dmListDto.getMemberName());
        memberInfo.put("memberProfileUrl", dmListDto.getMemberProfileUrl());
        memberInfo.put("createDate", dmListDto.getCreateDate().truncatedTo(ChronoUnit.MINUTES).toString());

        msgList = new ArrayList<>();
        msgList.add(dmListDto.getMessage());
      } else {
        msgList.add(dmListDto.getMessage());
      }
      prevMemberId = memberId;
      prevCreateTime = createTime;
    }

    if (prevMemberId != -1) {
      DmResponseDto dto = new DmResponseDto();
      dto.setMemberId(prevMemberId);
      dto.setMemberName(memberInfo.get("memberName"));
      dto.setMemberProfileUrl(memberInfo.get("memberProfileUrl"));
      dto.setCreateDate(memberInfo.get("createDate"));
      dto.setMessage(msgList);
      dmResponseDtoList.add(dto);
    }
    return dmResponseDtoList;
  }
```
# 수정 코드
```
```
